<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Plots epidemiological data from a deterministic compartment
epidemic model solved with dcm."><title>Plot Data from a Deterministic Compartmental Epidemic Model — plot.dcm • EpiModel</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot Data from a Deterministic Compartmental Epidemic Model — plot.dcm"><meta property="og:description" content="Plots epidemiological data from a deterministic compartment
epidemic model solved with dcm."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">EpiModel</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.4.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Intro.html">EpiModel: Mathematical Modeling of Infectious Disease Dynamics</a>
    <a class="dropdown-item" href="../articles/attributes-and-summary-statistics.html">Working with Custom Attributes and Summary Statistics in EpiModel</a>
    <a class="dropdown-item" href="../articles/model-parameters.html">Working with Model Parameters in EpiModel</a>
    <a class="dropdown-item" href="../articles/network-objects.html">Working with Network Objects in EpiModel</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/EpiModel/EpiModel/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Plot Data from a Deterministic Compartmental Epidemic Model</h1>
      <small class="dont-index">Source: <a href="https://github.com/EpiModel/EpiModel/blob/HEAD/R/plot.R" class="external-link"><code>R/plot.R</code></a></small>
      <div class="d-none name"><code>plot.dcm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Plots epidemiological data from a deterministic compartment
epidemic model solved with <code><a href="dcm.html">dcm</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for dcm</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">y</span>,</span>
<span>  popfrac <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">run</span>,</span>
<span>  <span class="va">col</span>,</span>
<span>  <span class="va">lwd</span>,</span>
<span>  <span class="va">lty</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  <span class="va">legend</span>,</span>
<span>  <span class="va">leg.name</span>,</span>
<span>  leg.cex <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  axs <span class="op">=</span> <span class="st">"r"</span>,</span>
<span>  grid <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>An <code>EpiModel</code> object of class <code>dcm</code>.</p></dd>


<dt>y</dt>
<dd><p>Output compartments or flows from <code>dcm</code> object to plot.</p></dd>


<dt>popfrac</dt>
<dd><p>If <code>TRUE</code>, plot prevalence of values rather than numbers
(see details).</p></dd>


<dt>run</dt>
<dd><p>Run number to plot, for models with multiple runs
(default is run 1).</p></dd>


<dt>col</dt>
<dd><p>Color for lines, either specified as a single color in a standard
R color format, or alternatively as a color palette from
<code>RColorBrewer</code> (see details).</p></dd>


<dt>lwd</dt>
<dd><p>Line width for output lines.</p></dd>


<dt>lty</dt>
<dd><p>Line type for output lines.</p></dd>


<dt>alpha</dt>
<dd><p>Transparency level for lines, where 0 = transparent and
1 = opaque (see <code>adjustcolor</code> function).</p></dd>


<dt>legend</dt>
<dd><p>Type of legend to plot. Values are <code>"n"</code> for no legend,
<code>"full"</code> for full legend, and <code>"lim"</code> for limited legend
(see details).</p></dd>


<dt>leg.name</dt>
<dd><p>Character string to use for legend, with the default
determined automatically based on the <code>y</code> input.</p></dd>


<dt>leg.cex</dt>
<dd><p>Legend scale size.</p></dd>


<dt>axs</dt>
<dd><p>Plot axis type (see <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></code> for details), with default
of "r".</p></dd>


<dt>grid</dt>
<dd><p>If <code>TRUE</code>, a grid is added to the background of plot
(see <code><a href="https://rdrr.io/r/graphics/grid.html" class="external-link">grid</a></code> for details), with default of nx by ny.</p></dd>


<dt>add</dt>
<dd><p>If <code>TRUE</code>, new plot window is not called and lines are added
to existing plot window.</p></dd>


<dt>...</dt>
<dd><p>Additional arguments to pass to main plot window (see
<code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot.default</a></code>).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function plots epidemiological outcomes from a deterministic
compartmental model solved with <code><a href="dcm.html">dcm</a></code>. Depending on the number of
model runs (sensitivity analyses) and number of groups, the default plot is
the fractional proportion of each compartment in the model over time. The
specific compartments or flows to plot may be set using the <code>y</code>
parameter, and in multiple run models the specific run may also be specified.</p>
    </div>
    <div class="section level2">
    <h2 id="the-popfrac-argument">The <code>popfrac</code> Argument<a class="anchor" aria-label="anchor" href="#the-popfrac-argument"></a></h2>
    

<p>Compartment prevalence is the size of a compartment over some denominator.
To plot the raw numbers from any compartment, use <code>popfrac=FALSE</code>; this
is the default. The <code>popfrac</code> parameter calculates
and plots the denominators of all specified compartments using these rules:</p><ol><li><p>for one-group models, the prevalence of any compartment is the compartment
size divided by the total population size; 2) for two-group models, the
prevalence of any compartment is the compartment size divided by the group
size.</p></li>
</ol></div>
    <div class="section level2">
    <h2 id="color-palettes">Color Palettes<a class="anchor" aria-label="anchor" href="#color-palettes"></a></h2>
    

<p>Since <code><a href="dcm.html">dcm</a></code> supports multiple run sensitivity models, plotting
the results of such models uses a complex color scheme for distinguishing
runs. This is accomplished using the <code>RColorBrewer</code> color
palettes, which include a range of linked colors using named palettes. For
<code>plot.dcm</code>, one may either specify a brewer color palette listed in
<code>brewer.pal.info</code>, or, alternatively, a vector of standard R
colors (named, hexidecimal, or positive integers; see <code><a href="https://rdrr.io/r/grDevices/col2rgb.html" class="external-link">col2rgb</a></code>).</p>
    </div>
    <div class="section level2">
    <h2 id="plot-legends">Plot Legends<a class="anchor" aria-label="anchor" href="#plot-legends"></a></h2>
    

<p>There are three automatic legend types available, and the legend is
added by default for plots. To turn off the legend, use <code>legend="n"</code>. To
plot a legend with values for every line in a sensitivity analysis, use
<code>legend="full"</code>. With models with many runs, this may be visually
overwhelming. In those cases, use <code>legend="lim"</code> to plot a legend
limited to the highest and lowest values of the varying parameter in the
model. In cases where the default legend names are not helpful, one may
override those names with the <code>leg.name</code> argument.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="dcm.html">dcm</a></code>, <code>brewer.pal.info</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Deterministic SIR model with varying act rate</span></span></span>
<span class="r-in"><span><span class="va">param</span> <span class="op">&lt;-</span> <span class="fu"><a href="param.dcm.html">param.dcm</a></span><span class="op">(</span>inf.prob <span class="op">=</span> <span class="fl">0.2</span>, act.rate <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,</span></span>
<span class="r-in"><span>                   rec.rate <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">3</span>, a.rate <span class="op">=</span> <span class="fl">0.011</span>, ds.rate <span class="op">=</span> <span class="fl">0.01</span>,</span></span>
<span class="r-in"><span>                   di.rate <span class="op">=</span> <span class="fl">0.03</span>, dr.rate <span class="op">=</span> <span class="fl">0.01</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">init</span> <span class="op">&lt;-</span> <span class="fu"><a href="init.dcm.html">init.dcm</a></span><span class="op">(</span>s.num <span class="op">=</span> <span class="fl">1000</span>, i.num <span class="op">=</span> <span class="fl">1</span>, r.num <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">control</span> <span class="op">&lt;-</span> <span class="fu"><a href="control.dcm.html">control.dcm</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"SIR"</span>, nsteps <span class="op">=</span> <span class="fl">100</span>, dt <span class="op">=</span> <span class="fl">0.25</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="dcm.html">dcm</a></span><span class="op">(</span><span class="va">param</span>, <span class="va">init</span>, <span class="va">control</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot disease prevalence by default</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mod</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.dcm-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot prevalence of susceptibles</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mod</span>, y <span class="op">=</span> <span class="st">"s.num"</span>, popfrac <span class="op">=</span> <span class="cn">TRUE</span>, col <span class="op">=</span> <span class="st">"Greys"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.dcm-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot number of susceptibles</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mod</span>, y <span class="op">=</span> <span class="st">"s.num"</span>, popfrac <span class="op">=</span> <span class="cn">FALSE</span>, col <span class="op">=</span> <span class="st">"Greys"</span>, grid <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.dcm-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot multiple runs of multiple compartments together</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mod</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"s.num"</span>, <span class="st">"i.num"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     run <span class="op">=</span> <span class="fl">5</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">50</span><span class="op">)</span>, grid <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mod</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"s.num"</span>, <span class="st">"i.num"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     run <span class="op">=</span> <span class="fl">10</span>, lty <span class="op">=</span> <span class="fl">2</span>, legend <span class="op">=</span> <span class="st">"n"</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.dcm-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Samuel Jenness, Steven M. Goodreau, Martina Morris, Adrien Le Guillou, Chad Klumb.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

