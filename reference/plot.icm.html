<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot Data from a Stochastic Individual Contact Epidemic Model — plot.icm • EpiModel</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot Data from a Stochastic Individual Contact Epidemic Model — plot.icm"><meta name="description" content="Plots epidemiological data from a stochastic individual contact
model simulated with icm()."><meta property="og:description" content="Plots epidemiological data from a stochastic individual contact
model simulated with icm()."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">EpiModel</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.5.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/attributes-and-summary-statistics.html">Working with Custom Attributes and Summary Statistics in EpiModel</a></li>
    <li><a class="dropdown-item" href="../articles/Intro.html">EpiModel: Mathematical Modeling of Infectious Disease Dynamics</a></li>
    <li><a class="dropdown-item" href="../articles/model-parameters.html">Working with Model Parameters in EpiModel</a></li>
    <li><a class="dropdown-item" href="../articles/network-objects.html">Working with Network Objects in EpiModel</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/EpiModel/EpiModel/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Plot Data from a Stochastic Individual Contact Epidemic Model</h1>
      <small class="dont-index">Source: <a href="https://github.com/EpiModel/EpiModel/blob/main/R/plot.icm.R" class="external-link"><code>R/plot.icm.R</code></a></small>
      <div class="d-none name"><code>plot.icm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Plots epidemiological data from a stochastic individual contact
model simulated with <code><a href="icm.html">icm()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'icm'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  popfrac <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  sim.lines <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  sims <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sim.col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sim.lwd <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sim.alpha <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mean.line <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  mean.smooth <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  mean.col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mean.lwd <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  mean.lty <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  qnts <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  qnts.col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  qnts.alpha <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  qnts.smooth <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  legend <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  leg.cex <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  grid <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  xlim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ylim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  main <span class="op">=</span> <span class="st">""</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Time"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An <code>EpiModel</code> model object of class <code>icm</code>.</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>Output compartments or flows from <code>icm</code> object to plot. ——-</p></dd>


<dt id="arg-popfrac">popfrac<a class="anchor" aria-label="anchor" href="#arg-popfrac"></a></dt>
<dd><p>If <code>TRUE</code>, plot prevalence of values rather than numbers
(see details).</p></dd>


<dt id="arg-sim-lines">sim.lines<a class="anchor" aria-label="anchor" href="#arg-sim-lines"></a></dt>
<dd><p>If <code>TRUE</code>, plot individual simulation lines. Default is
to plot lines for one-group models but not for two-group models.</p></dd>


<dt id="arg-sims">sims<a class="anchor" aria-label="anchor" href="#arg-sims"></a></dt>
<dd><p>A vector of simulation numbers to plot.</p></dd>


<dt id="arg-sim-col">sim.col<a class="anchor" aria-label="anchor" href="#arg-sim-col"></a></dt>
<dd><p>Vector of any standard R color format for simulation lines.</p></dd>


<dt id="arg-sim-lwd">sim.lwd<a class="anchor" aria-label="anchor" href="#arg-sim-lwd"></a></dt>
<dd><p>Line width for simulation lines.</p></dd>


<dt id="arg-sim-alpha">sim.alpha<a class="anchor" aria-label="anchor" href="#arg-sim-alpha"></a></dt>
<dd><p>Transparency level for simulation lines, where
0 = transparent and 1 = opaque (see <code>adjustcolor</code> function).</p></dd>


<dt id="arg-mean-line">mean.line<a class="anchor" aria-label="anchor" href="#arg-mean-line"></a></dt>
<dd><p>If <code>TRUE</code>, plot mean of simulations across time.</p></dd>


<dt id="arg-mean-smooth">mean.smooth<a class="anchor" aria-label="anchor" href="#arg-mean-smooth"></a></dt>
<dd><p>If <code>TRUE</code>, use a loess smoother on the mean line.</p></dd>


<dt id="arg-mean-col">mean.col<a class="anchor" aria-label="anchor" href="#arg-mean-col"></a></dt>
<dd><p>Vector of any standard R color format for mean lines.</p></dd>


<dt id="arg-mean-lwd">mean.lwd<a class="anchor" aria-label="anchor" href="#arg-mean-lwd"></a></dt>
<dd><p>Line width for mean lines.</p></dd>


<dt id="arg-mean-lty">mean.lty<a class="anchor" aria-label="anchor" href="#arg-mean-lty"></a></dt>
<dd><p>Line type for mean lines.</p></dd>


<dt id="arg-qnts">qnts<a class="anchor" aria-label="anchor" href="#arg-qnts"></a></dt>
<dd><p>If numeric, plot polygon of simulation quantiles based on the
range implied by the argument (see details). If <code>FALSE</code>, suppress
polygon from plot.</p></dd>


<dt id="arg-qnts-col">qnts.col<a class="anchor" aria-label="anchor" href="#arg-qnts-col"></a></dt>
<dd><p>Vector of any standard R color format for polygons.</p></dd>


<dt id="arg-qnts-alpha">qnts.alpha<a class="anchor" aria-label="anchor" href="#arg-qnts-alpha"></a></dt>
<dd><p>Transparency level for quantile polygons, where 0 =
transparent and 1 = opaque (see <code>adjustcolor</code> function).</p></dd>


<dt id="arg-qnts-smooth">qnts.smooth<a class="anchor" aria-label="anchor" href="#arg-qnts-smooth"></a></dt>
<dd><p>If <code>TRUE</code>, use a loess smoother on quantile polygons.</p></dd>


<dt id="arg-legend">legend<a class="anchor" aria-label="anchor" href="#arg-legend"></a></dt>
<dd><p>If <code>TRUE</code>, plot default legend.</p></dd>


<dt id="arg-leg-cex">leg.cex<a class="anchor" aria-label="anchor" href="#arg-leg-cex"></a></dt>
<dd><p>Legend scale size.</p></dd>


<dt id="arg-grid">grid<a class="anchor" aria-label="anchor" href="#arg-grid"></a></dt>
<dd><p>If <code>TRUE</code>, a grid is added to the background of plot
(see <code><a href="https://rdrr.io/r/graphics/grid.html" class="external-link">grid()</a></code> for details), with default of nx by ny.</p></dd>


<dt id="arg-add">add<a class="anchor" aria-label="anchor" href="#arg-add"></a></dt>
<dd><p>If <code>TRUE</code>, new plot window is not called and lines are added
to existing plot window.</p></dd>


<dt id="arg-xlim">xlim<a class="anchor" aria-label="anchor" href="#arg-xlim"></a></dt>
<dd><p>the x limits (x1, x2) of the plot.  Note that <code>x1 &gt; x2</code>
    is allowed and leads to a ‘reversed axis’.</p>
<p>The default value, <code>NULL</code>, indicates that the range of the
    <a href="https://rdrr.io/r/base/is.finite.html" class="external-link">finite</a> values to be plotted should be used.</p></dd>


<dt id="arg-ylim">ylim<a class="anchor" aria-label="anchor" href="#arg-ylim"></a></dt>
<dd><p>the y limits of the plot.</p></dd>


<dt id="arg-main">main<a class="anchor" aria-label="anchor" href="#arg-main"></a></dt>
<dd><p>a main title for the plot, see also <code><a href="https://rdrr.io/r/graphics/title.html" class="external-link">title</a></code>.</p></dd>


<dt id="arg-xlab">xlab<a class="anchor" aria-label="anchor" href="#arg-xlab"></a></dt>
<dd><p>a label for the x axis, defaults to a description of <code>x</code>.</p></dd>


<dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>a label for the y axis, defaults to a description of <code>y</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments to pass.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This plotting function will extract the epidemiological output from a model
object of class <code>icm</code> and plot the time series data of disease
prevalence and other results. The summary statistics that the function
calculates and plots are individual simulation lines, means of the individual
simulation lines, and quantiles of those individual simulation lines. The
mean line, toggled on with <code>mean.line=TRUE</code>, is calculated as the row
mean across simulations at each time step.</p>
<p>Compartment prevalences are the size of a compartment over some denominator.
To plot the raw numbers from any compartment, use <code>popfrac=FALSE</code>; this
is the default for any plots of flows. The <code>popfrac</code> parameter
calculates and plots the denominators of all specified compartments using
these rules: 1) for one-group models, the prevalence of any compartment is
the compartment size divided by the total population size; 2) for two-group
models, the prevalence of any compartment is the compartment size divided by
the group population size. For any prevalences that are not automatically
calculated, the <code><a href="mutate_epi.html">mutate_epi()</a></code> function may be used to add new
variables to the <code>icm</code> object to plot or analyze.</p>
<p>The quantiles show the range of outcome values within a certain specified
quantile range. By default, the interquartile range is shown: that is the
middle 50\<!-- % of the data. This is specified by \code{qnts=0.5}. To show the -->
middle 95\<!-- % of the data, specify \code{qnts=0.95}. To toggle off the polygons -->
where they are plotted by default, specify <code>qnts=FALSE</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="icm.html">icm()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Example 1: Plotting multiple compartment values from SIR model</span></span></span>
<span class="r-in"><span><span class="va">param</span> <span class="op">&lt;-</span> <span class="fu"><a href="param.icm.html">param.icm</a></span><span class="op">(</span>inf.prob <span class="op">=</span> <span class="fl">0.5</span>, act.rate <span class="op">=</span> <span class="fl">0.5</span>, rec.rate <span class="op">=</span> <span class="fl">0.02</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">init</span> <span class="op">&lt;-</span> <span class="fu"><a href="init.icm.html">init.icm</a></span><span class="op">(</span>s.num <span class="op">=</span> <span class="fl">500</span>, i.num <span class="op">=</span> <span class="fl">1</span>, r.num <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">control</span> <span class="op">&lt;-</span> <span class="fu"><a href="control.icm.html">control.icm</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"SIR"</span>, nsteps <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>                       nsims <span class="op">=</span> <span class="fl">3</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="icm.html">icm</a></span><span class="op">(</span><span class="va">param</span>, <span class="va">init</span>, <span class="va">control</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mod</span>, grid <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.icm-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Example 2: Plot only infected with specific output from SI model</span></span></span>
<span class="r-in"><span><span class="va">param</span> <span class="op">&lt;-</span> <span class="fu"><a href="param.icm.html">param.icm</a></span><span class="op">(</span>inf.prob <span class="op">=</span> <span class="fl">0.25</span>, act.rate <span class="op">=</span> <span class="fl">0.25</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">init</span> <span class="op">&lt;-</span> <span class="fu"><a href="init.icm.html">init.icm</a></span><span class="op">(</span>s.num <span class="op">=</span> <span class="fl">500</span>, i.num <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">control</span> <span class="op">&lt;-</span> <span class="fu"><a href="control.icm.html">control.icm</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"SI"</span>, nsteps <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>                       nsims <span class="op">=</span> <span class="fl">3</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mod2</span> <span class="op">&lt;-</span> <span class="fu"><a href="icm.html">icm</a></span><span class="op">(</span><span class="va">param</span>, <span class="va">init</span>, <span class="va">control</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot prevalence</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mod2</span>, y <span class="op">=</span> <span class="st">"i.num"</span>, mean.line <span class="op">=</span> <span class="cn">FALSE</span>, sim.lines <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.icm-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot incidence</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mod2</span>, y <span class="op">=</span> <span class="st">"si.flow"</span>, mean.smooth <span class="op">=</span> <span class="cn">TRUE</span>, grid <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mod2</span>, y <span class="op">=</span> <span class="st">"si.flow"</span>, qnts.smooth <span class="op">=</span> <span class="cn">FALSE</span>, qnts <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot.icm-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Samuel Jenness, Steven M. Goodreau, Martina Morris, Adrien Le Guillou, Chad Klumb.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

